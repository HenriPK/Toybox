
project( ${TARGET_PREFIX}external LANGUAGES CXX C )

message( "> extern:" )

# add disired compiler flags to extern libraries but not to our own sources
enable_cxx_compiler_flag_if_supported( "-w" ) # suppress warnings generated by external libraries

# Add external sources as subdirectories here if they are CMake-enabled, or build them here if necessary
# Add custom includes <dir> , linker arguments <flag> , and compile definitions <def> where convenient like this:
# list( APPEND ${TARGET_PREFIX}external_includes <dir> )
# list( APPEND ${TARGET_PREFIX}extra_linker_flags <flag>)
# list( APPEND ${TARGET_PREFIX}extra_definitions <def>)

#Includes:

list( APPEND ${TARGET_PREFIX}external_includes ${CMAKE_CURRENT_SOURCE_DIR}/sdl2/include )
list( APPEND ${TARGET_PREFIX}external_includes ${CMAKE_CURRENT_SOURCE_DIR}/glm )

#Linker:

list( APPEND ${TARGET_PREFIX}extra_linker_flags -L${CMAKE_CURRENT_SOURCE_DIR}/sdl2/lib -lmingw32 -lSDL2main -lSDL2 )

# Assemble the external dependencies together into a linkable interface that also automatically includes all
# the necessary directories and linked libraries
add_library( ${TARGET_PREFIX}external INTERFACE )
target_include_directories( ${TARGET_PREFIX}external INTERFACE SYSTEM
  ${${TARGET_PREFIX}external_includes}
  )
target_link_libraries( ${TARGET_PREFIX}external INTERFACE
  ${${TARGET_PREFIX}extra_linker_flags}
  )
target_compile_definitions( ${TARGET_PREFIX}external INTERFACE
  ${${TARGET_PREFIX}extra_definitions}
  )
